



#ifndef SQL_CONST_INCLUDED
#define SQL_CONST_INCLUDED

#include <mysql_version.h>

#define LIBLEN FN_REFLEN-FN_LEN			

#define MAX_DBKEY_LENGTH (NAME_LEN*2+1+1+4+4)
#define MAX_ALIAS_NAME 256
#define MAX_FIELD_NAME 34			
#define MAX_SYS_VAR_LENGTH 32
#define MAX_KEY MAX_INDEXES                     
#define MAX_REF_PARTS 32			


#define MAX_DATA_LENGTH_FOR_KEY 3072
#if SIZEOF_OFF_T > 4
#define MAX_REFLENGTH 8				
#else
#define MAX_REFLENGTH 4				
#endif
#define MAX_HOSTNAME  61			
#define MAX_CONNECTION_NAME NAME_LEN

#define MAX_MBWIDTH		3		
#define MAX_FILENAME_MBWIDTH    5
#define MAX_FIELD_CHARLENGTH	255

#define MAX_FIELD_VARCHARLENGTH	(65535-2-1)
#define MAX_FIELD_BLOBLENGTH UINT_MAX32         
#define CONVERT_IF_BIGGER_TO_BLOB 512           


#define MAX_FIELD_WIDTH		(MAX_FIELD_CHARLENGTH*MAX_MBWIDTH+1)

#define MAX_BIT_FIELD_LENGTH    64      

#define MAX_DATE_WIDTH		10	
#define MIN_TIME_WIDTH          10      
#define MAX_TIME_WIDTH          16      
#define MAX_TIME_FULL_WIDTH     23      
#define MAX_DATETIME_FULL_WIDTH 26	
#define MAX_DATETIME_WIDTH	19	
#define MAX_DATETIME_COMPRESSED_WIDTH 14  
#define MAX_DATETIME_PRECISION  6

#define MAX_TABLES	(sizeof(table_map)*8-3)	
#define PARAM_TABLE_BIT	(((table_map) 1) << (sizeof(table_map)*8-3))
#define OUTER_REF_TABLE_BIT	(((table_map) 1) << (sizeof(table_map)*8-2))
#define RAND_TABLE_BIT	(((table_map) 1) << (sizeof(table_map)*8-1))
#define PSEUDO_TABLE_BITS (PARAM_TABLE_BIT | OUTER_REF_TABLE_BIT | \
                           RAND_TABLE_BIT)
#define CONNECT_STRING_MAXLEN   65535           
#define MAX_FIELDS	4096			
#define MAX_PARTITIONS  8192

#define MAX_SELECT_NESTING (SELECT_NESTING_MAP_SIZE - 1)

#define MAX_SORT_MEMORY 2048*1024
#define MIN_SORT_MEMORY 1024



#define STRING_BUFFER_USUAL_SIZE 80


#define MEM_ROOT_BLOCK_SIZE       8192
#define MEM_ROOT_PREALLOC         8192
#define TRANS_MEM_ROOT_BLOCK_SIZE 4096
#define TRANS_MEM_ROOT_PREALLOC   4096

#define DEFAULT_ERROR_COUNT	64
#define EXTRA_RECORDS	10			
#define SCROLL_EXTRA	5			
#define FIELD_NAME_USED ((uint) 32768)		
#define FORM_NAME_USED	((uint) 16384)		
#define FIELD_NR_MASK	16383			
#define FERR		-1			
#define CREATE_MODE	0			
#define NAMES_SEP_CHAR	255			

#define READ_RECORD_BUFFER	(uint) (IO_SIZE*8) 
#define DISK_BUFFER_SIZE	(uint) (IO_SIZE*16) 

#define FRM_VER_TRUE_VARCHAR (FRM_VER+4) 
#define FRM_VER_EXPRESSSIONS (FRM_VER+5) 
#define FRM_VER_CURRENT  FRM_VER_EXPRESSSIONS



#define ACL_CACHE_SIZE		256
#define MAX_PASSWORD_LENGTH	32
#define HOST_CACHE_SIZE		128
#define MAX_ACCEPT_RETRY	10	
#define MAX_FIELDS_BEFORE_HASH	32
#define USER_VARS_HASH_SIZE     16
#define SEQUENCES_HASH_SIZE     16
#define TABLE_OPEN_CACHE_MIN    200
#define TABLE_OPEN_CACHE_DEFAULT 2000
#define TABLE_DEF_CACHE_DEFAULT 400

#define TABLE_DEF_CACHE_MIN     400


#define MAX_CONNECTIONS_DEFAULT 151


#define STACK_MIN_SIZE          16000   

#define STACK_MIN_SIZE_FOR_OPEN (1024*80)
#define STACK_BUFF_ALLOC        352     
#ifndef MYSQLD_NET_RETRY_COUNT
#define MYSQLD_NET_RETRY_COUNT  10	
#endif

#define QUERY_ALLOC_BLOCK_SIZE		16384
#define QUERY_ALLOC_PREALLOC_SIZE   	24576
#define TRANS_ALLOC_BLOCK_SIZE		8192
#define TRANS_ALLOC_PREALLOC_SIZE	4096
#define RANGE_ALLOC_BLOCK_SIZE		4096
#define ACL_ALLOC_BLOCK_SIZE		1024
#define UDF_ALLOC_BLOCK_SIZE		1024
#define TABLE_ALLOC_BLOCK_SIZE		1024
#define WARN_ALLOC_BLOCK_SIZE		2048
#define WARN_ALLOC_PREALLOC_SIZE	1024

#define SHOW_ALLOC_BLOCK_SIZE           (32768-MALLOC_OVERHEAD)


#define MIN_FILE_LENGTH_TO_USE_ROW_CACHE (10L*1024*1024)
#define MIN_ROWS_TO_USE_TABLE_CACHE	 100
#define MIN_ROWS_TO_USE_BULK_INSERT	 100


#define TIME_FOR_COMPARE   5	


#define TIME_FOR_COMPARE_ROWID  (TIME_FOR_COMPARE*100)


#define COST_EPS  0.001


#define DISK_SEEK_BASE_COST ((double)0.9)

#define BLOCKS_IN_AVG_SEEK  128

#define DISK_SEEK_PROP_COST ((double)0.1/BLOCKS_IN_AVG_SEEK)



#define MATCHING_ROWS_IN_OTHER_TABLE 10


#define HEAP_TEMPTABLE_LOOKUP_COST 0.05
#define DISK_TEMPTABLE_LOOKUP_COST 1.0
#define SORT_INDEX_CMP_COST 0.02

#define MY_CHARSET_BIN_MB_MAXLEN 1


#define KEY_DEFAULT_PACK_LENGTH 8


#define PROCESS_LIST_WIDTH 100

#define PROCESS_LIST_INFO_WIDTH 65535

#define PRECISION_FOR_DOUBLE 53
#define PRECISION_FOR_FLOAT  24


#define MAX_FLOAT_STR_LENGTH (FLT_DIG + 6)

#define MAX_DOUBLE_STR_LENGTH (DBL_DIG + 7)


#define CONNECT_TIMEOUT		10
 
#define THREAD_CACHE_TIMEOUT	5*60


#define DEFAULT_CONCURRENCY	10
#define DELAYED_LIMIT		100		
#define DELAYED_QUEUE_SIZE	1000
#define DELAYED_WAIT_TIMEOUT	(5*60)		
#define MAX_CONNECT_ERRORS	100		

#define LONG_TIMEOUT ((ulong) 3600L*24L*365L)


#define MAX_TIME_ZONE_NAME_LENGTH       (NAME_LEN + 1)

#if defined(__WIN__)

#define INTERRUPT_PRIOR -2
#define CONNECT_PRIOR	-1
#define WAIT_PRIOR	0
#define QUERY_PRIOR	2
#else
#define INTERRUPT_PRIOR 10
#define CONNECT_PRIOR	9
#define WAIT_PRIOR	8
#define QUERY_PRIOR	6
#endif 

#endif 
